<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>API · KeldyshContraction.jl</title><meta name="title" content="API · KeldyshContraction.jl"/><meta property="og:title" content="API · KeldyshContraction.jl"/><meta property="twitter:title" content="API · KeldyshContraction.jl"/><meta name="description" content="Documentation for KeldyshContraction.jl."/><meta property="og:description" content="Documentation for KeldyshContraction.jl."/><meta property="twitter:description" content="Documentation for KeldyshContraction.jl."/><meta property="og:url" content="https://oameye.github.io/KeldyshContraction.jl/API/"/><meta property="twitter:url" content="https://oameye.github.io/KeldyshContraction.jl/API/"/><link rel="canonical" href="https://oameye.github.io/KeldyshContraction.jl/API/"/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">KeldyshContraction.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li class="is-active"><a class="tocitem" href>API</a><ul class="internal"><li><a class="tocitem" href="#Field-Types"><span>Field Types</span></a></li><li><a class="tocitem" href="#Systems"><span>Systems</span></a></li><li><a class="tocitem" href="#Wick-Contraction"><span>Wick Contraction</span></a></li></ul></li><li><a class="tocitem" href="../typesystem/">Symbolic fields</a></li><li><a class="tocitem" href="../conventions/">Keldysh Conventions</a></li><li><a class="tocitem" href="../literature/">Literature</a></li><li><span class="tocitem">Examples</span><ul><li><a class="tocitem" href="../examples/elastic_two_body/">Elastic two body scattering</a></li><li><a class="tocitem" href="../examples/two_particle_loss/">Two boson loss</a></li><li><a class="tocitem" href="../examples/collision_integral/">Collision integral (experimental)</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>API</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>API</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/oameye/KeldyshContraction.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/oameye/KeldyshContraction.jl/blob/main/docs/src/API.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="API"><a class="docs-heading-anchor" href="#API">API</a><a id="API-1"></a><a class="docs-heading-anchor-permalink" href="#API" title="Permalink"></a></h1><ul><li><a href="#Field-Types">Field Types</a></li><li class="no-marker"><ul><li><a href="#Individual-Fields">Individual Fields</a></li><li><a href="#Field-Algebra">Field Algebra</a></li></ul></li><li><a href="#Systems">Systems</a></li><li><a href="#Wick-Contraction">Wick Contraction</a></li><li class="no-marker"><ul><li><a href="#Propagator">Propagator</a></li><li><a href="#Self-Energy">Self-Energy</a></li></ul></li></ul><article><details class="docstring"><summary id="KeldyshContraction"><a class="docstring-binding" href="#KeldyshContraction"><code>KeldyshContraction</code></a> — <span class="docstring-category">Module</span></summary><section><div><p><strong>KeldyshContraction.jl</strong></p><p><a href="https://oameye.github.io/KeldyshContraction.jl/"><img src="https://img.shields.io/badge/docs-online-blue.svg" alt="docs"/></a> <a href="https://app.codecov.io/gh/oameye/KeldyshContraction.jl"><img src="https://codecov.io/gh/oameye/KeldyshContraction.jl/branch/main/graph/badge.svg" alt="codecov"/></a> <a href="https://oameye.github.io/KeldyshContraction.jl/benchmarks/"><img src="https://github.com/oameye/KeldyshContraction.jl/actions/workflows/Benchmarks.yaml/badge.svg?branch=main" alt="Benchmarks"/></a></p><p><a href="https://github.com/JuliaDiff/BlueStyle"><img src="https://img.shields.io/badge/blue%20style%20-%20blue-4495d1.svg" alt="Code Style: Blue"/></a> <a href="https://github.com/JuliaTesting/Aqua.jl"><img src="https://raw.githubusercontent.com/JuliaTesting/Aqua.jl/master/badge.svg" alt="Aqua QA"/></a> <a href="https://github.com/aviatesk/JET.jl"><img src="https://img.shields.io/badge/%F0%9F%9B%A9%EF%B8%8F_tested_with-JET.jl-233f9a" alt="jet"/></a></p><p>KeldyshContraction.jl is a package for the symbolic derivation of the two-point correlator diagrams in Keldysh-Schwinger field theory. The symbolic quantum field theory algebra is implemented using <a href="https://github.com/JuliaSymbolics/SymbolicUtils.jl">SymbolicUtils.jl</a> and <a href="https://github.com/JuliaSymbolics/TermInterface.jl/">TermInterface.jl</a> of the JuliaSymbolic ecosystem. The typesystem has been heavily inspired by the second quantization algebra defined in <a href="https://github.com/qojulia/QuantumCumulants.jl">QuantumCumulants.jl</a>. For more details on the implementation see the <a href="https://oameye.github.io/KeldyshContraction.jl/dev/typesystem/">&quot;symbolic quantum field algebra&quot;</a> documentation page.</p><p>In developing this package, the work <a href="https://doi.org/10.21468/SciPostPhysCore.8.1.014"><code>SciPost Phys. Core 8, 014 (2025)</code></a> symbolic quantum field algebra was used extensively. Hence, the corresponding conventions and notation are used in this package.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/oameye/KeldyshContraction.jl/blob/3fb9991363b50d243ed17ae2e6aa79ffaabcac16/src/KeldyshContraction.jl#L1">source</a></section></details></article><h2 id="Field-Types"><a class="docs-heading-anchor" href="#Field-Types">Field Types</a><a id="Field-Types-1"></a><a class="docs-heading-anchor-permalink" href="#Field-Types" title="Permalink"></a></h2><h3 id="Individual-Fields"><a class="docs-heading-anchor" href="#Individual-Fields">Individual Fields</a><a id="Individual-Fields-1"></a><a class="docs-heading-anchor-permalink" href="#Individual-Fields" title="Permalink"></a></h3><pre class="documenter-example-output"><code class="nohighlight hljs ansi"><span class="sgr38_2" style="color:#42a5f5"><span class="sgr2">╭───────────────────────── </span></span><span class="sgr38_2" style="color:#ffa726">Types hierarchy</span><span class="sgr38_2" style="color:#42a5f5"><span class="sgr2"> ───╮</span>
<span class="sgr2">│</span></span>                                             <span class="sgr38_2" style="color:#42a5f5"><span class="sgr2">│</span></span>
<span class="sgr38_2" style="color:#42a5f5"><span class="sgr2">│</span></span>  <span class="sgr38_2" style="color:#fff59d"><span class="sgr3">KeldyshContraction.QField</span></span>                  <span class="sgr38_2" style="color:#42a5f5"><span class="sgr2">│</span></span>
<span class="sgr38_2" style="color:#42a5f5"><span class="sgr2">│</span></span> <span class="sgr38_2" style="color:#fff59d"><span class="sgr3"><span class="sgr2">━━━━━━━━━━━━━━━━━━━━━━━━━━━</span></span></span>                 <span class="sgr38_2" style="color:#42a5f5"><span class="sgr2">│</span></span>
<span class="sgr38_2" style="color:#42a5f5"><span class="sgr2">│</span></span>             <span class="sgr38_2" style="color:#42a5f5"><span class="sgr1">│   </span></span>                            <span class="sgr38_2" style="color:#42a5f5"><span class="sgr2">│</span></span>
<span class="sgr38_2" style="color:#42a5f5"><span class="sgr2">│</span></span>             <span class="sgr38_2" style="color:#42a5f5"><span class="sgr1">├── </span></span>KeldyshContraction.QTerm    <span class="sgr38_2" style="color:#42a5f5"><span class="sgr2">│</span></span>
<span class="sgr38_2" style="color:#42a5f5"><span class="sgr2">│</span></span>             <span class="sgr38_2" style="color:#42a5f5"><span class="sgr1">└── </span></span><span class="sgr38_5" style="color:#ffaf00"><span class="sgr4"><span class="sgr3">KeldyshContraction.QSym</span></span></span>     <span class="sgr38_2" style="color:#42a5f5"><span class="sgr2">│</span></span>
<span class="sgr38_2" style="color:#42a5f5"><span class="sgr2">│</span></span>             <span class="sgr38_2" style="color:#42a5f5"><span class="sgr1">    ├── </span></span>Create                  <span class="sgr38_2" style="color:#42a5f5"><span class="sgr2">│</span></span>
<span class="sgr38_2" style="color:#42a5f5"><span class="sgr2">│</span></span>             <span class="sgr38_2" style="color:#42a5f5"><span class="sgr1">    └── </span></span>Destroy                 <span class="sgr38_2" style="color:#42a5f5"><span class="sgr2">│</span></span>
<span class="sgr38_2" style="color:#42a5f5"><span class="sgr2">│</span></span>                                             <span class="sgr38_2" style="color:#42a5f5"><span class="sgr2">│</span></span>
<span class="sgr38_2" style="color:#42a5f5"><span class="sgr2">╰─────────────────────────────────────────────╯</span></span></code></pre><article><details class="docstring"><summary id="KeldyshContraction.QField"><a class="docstring-binding" href="#KeldyshContraction.QField"><code>KeldyshContraction.QField</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">QField</code></pre><p>Abstract type representing any expression involving Fields.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/oameye/KeldyshContraction.jl/blob/3fb9991363b50d243ed17ae2e6aa79ffaabcac16/src/keldysh_algebra/interface.jl#L5-L9">source</a></section></details></article><article><details class="docstring"><summary id="KeldyshContraction.QSym"><a class="docstring-binding" href="#KeldyshContraction.QSym"><code>KeldyshContraction.QSym</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">QSym &lt;: QField</code></pre><p>Abstract type representing fundamental Field types.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/oameye/KeldyshContraction.jl/blob/3fb9991363b50d243ed17ae2e6aa79ffaabcac16/src/keldysh_algebra/interface.jl#L15-L19">source</a></section></details></article><article><details class="docstring"><summary id="KeldyshContraction.Create"><a class="docstring-binding" href="#KeldyshContraction.Create"><code>KeldyshContraction.Create</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">Create &lt;: QSym</code></pre><p>Bosonic field representing the quantum field creation operator.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/oameye/KeldyshContraction.jl/blob/3fb9991363b50d243ed17ae2e6aa79ffaabcac16/src/keldysh_algebra/keldysh_algebra.jl#L25-L29">source</a></section></details></article><article><details class="docstring"><summary id="KeldyshContraction.Destroy"><a class="docstring-binding" href="#KeldyshContraction.Destroy"><code>KeldyshContraction.Destroy</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">Destroy &lt;: QSym</code></pre><p>Bosonic field representing the quantum field annihilation operator.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/oameye/KeldyshContraction.jl/blob/3fb9991363b50d243ed17ae2e6aa79ffaabcac16/src/keldysh_algebra/keldysh_algebra.jl#L5-L9">source</a></section></details></article><h4 id="Field-Properties"><a class="docs-heading-anchor" href="#Field-Properties">Field Properties</a><a id="Field-Properties-1"></a><a class="docs-heading-anchor-permalink" href="#Field-Properties" title="Permalink"></a></h4><p>The field properties are determined by the Enum objects:</p><article><details class="docstring"><summary id="KeldyshContraction.KeldyshContour"><a class="docstring-binding" href="#KeldyshContraction.KeldyshContour"><code>KeldyshContraction.KeldyshContour</code></a> — <span class="docstring-category">Module</span></summary><section><div><pre><code class="language-julia hljs">KeldyshContour `Quantum` `Classical`</code></pre><p>Keldysh contour enum for the Keldysh quantum field. The Keldysh contour is used to distinguish the field on quantum and classical contour.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/oameye/KeldyshContraction.jl/blob/3fb9991363b50d243ed17ae2e6aa79ffaabcac16/src/keldysh_algebra/interface.jl#L89-L93">source</a></section></details></article><article><details class="docstring"><summary id="KeldyshContraction.Regularisation"><a class="docstring-binding" href="#KeldyshContraction.Regularisation"><code>KeldyshContraction.Regularisation</code></a> — <span class="docstring-category">Module</span></summary><section><div><pre><code class="language-julia hljs">Regularisation `Plus` `Zero` `Minus`</code></pre><p>Regularisation enum for the Keldysh quantum field. The regularisation is used to perform tadpole regularisation during the Wick contraction.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/oameye/KeldyshContraction.jl/blob/3fb9991363b50d243ed17ae2e6aa79ffaabcac16/src/keldysh_algebra/interface.jl#L73-L77">source</a></section></details></article><p>And the position of the field is determined by the <code>AbstractPosition</code> object:</p><article><details class="docstring"><summary id="KeldyshContraction.Position"><a class="docstring-binding" href="#KeldyshContraction.Position"><code>KeldyshContraction.Position</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">struct Position</code></pre><p>Position type for the Keldysh quantum field. The position is used to determine the coordinate of the field during the wick contraction.</p><p>Position has thee cases:</p><ul><li><a href="#KeldyshContraction.In"><code>In</code></a>: Position.index will be <code>typemax(Int8)</code>, which is used to represent the input field.Position</li><li><a href="#KeldyshContraction.Out"><code>Out</code></a>: Position.index will be <code>typemin(Int8)</code>, which is used to represent the output field.Position</li><li><a href="#KeldyshContraction.Bulk"><code>Bulk</code></a>: Position.index will be a positive integer</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/oameye/KeldyshContraction.jl/blob/3fb9991363b50d243ed17ae2e6aa79ffaabcac16/src/keldysh_algebra/interface.jl#L105">source</a></section></details></article><article><details class="docstring"><summary id="KeldyshContraction.In"><a class="docstring-binding" href="#KeldyshContraction.In"><code>KeldyshContraction.In</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">In()</code></pre><p>Create a <code>Position</code> representing the input field.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/oameye/KeldyshContraction.jl/blob/3fb9991363b50d243ed17ae2e6aa79ffaabcac16/src/keldysh_algebra/interface.jl#L127-L130">source</a></section></details></article><article><details class="docstring"><summary id="KeldyshContraction.Out"><a class="docstring-binding" href="#KeldyshContraction.Out"><code>KeldyshContraction.Out</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">Out()</code></pre><p>Create a <code>Position</code> representing the output field.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/oameye/KeldyshContraction.jl/blob/3fb9991363b50d243ed17ae2e6aa79ffaabcac16/src/keldysh_algebra/interface.jl#L132-L135">source</a></section></details></article><article><details class="docstring"><summary id="KeldyshContraction.Bulk"><a class="docstring-binding" href="#KeldyshContraction.Bulk"><code>KeldyshContraction.Bulk</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">Bulk(i::Int=1)</code></pre><p>Create a <code>Bulk</code> position with a positive integer index <code>i</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/oameye/KeldyshContraction.jl/blob/3fb9991363b50d243ed17ae2e6aa79ffaabcac16/src/keldysh_algebra/interface.jl#L119-L122">source</a></section></details></article><h4 id="Field-Constructors"><a class="docs-heading-anchor" href="#Field-Constructors">Field Constructors</a><a id="Field-Constructors-1"></a><a class="docs-heading-anchor-permalink" href="#Field-Constructors" title="Permalink"></a></h4><p>It is expected to create the fields using the <code>Create</code> and <code>Destroy</code> constructors, together with the <code>@qfields</code> macro.</p><article><details class="docstring"><summary id="KeldyshContraction.@qfields"><a class="docstring-binding" href="#KeldyshContraction.@qfields"><code>KeldyshContraction.@qfields</code></a> — <span class="docstring-category">Macro</span></summary><section><div><pre><code class="language-julia hljs">@qfields</code></pre><p>Convenience macro for the construction of fields.</p><p><strong>Examples</strong></p><pre><code class="nohighlight hljs">julia&gt; using KeldyshContraction: Classical, Quantum

julia&gt; @qnumbers ψ::Destroy(Classical)
(ψ,)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/oameye/KeldyshContraction.jl/blob/3fb9991363b50d243ed17ae2e6aa79ffaabcac16/src/keldysh_algebra/keldysh_algebra.jl#L130-L143">source</a></section></details></article><p>The created fields are callable to change a property of the individual fields:</p><pre><code class="language-julia hljs">using KeldyshContraction
using KeldyshContraction: position

@qfields ϕ::Destroy(Classical)

position(ϕ)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">KeldyshContraction.Position(1)</code></pre><h3 id="Field-Algebra"><a class="docs-heading-anchor" href="#Field-Algebra">Field Algebra</a><a id="Field-Algebra-1"></a><a class="docs-heading-anchor-permalink" href="#Field-Algebra" title="Permalink"></a></h3><pre class="documenter-example-output"><code class="nohighlight hljs ansi"><span class="sgr38_2" style="color:#42a5f5"><span class="sgr2">╭──────────────────────────── </span></span><span class="sgr38_2" style="color:#ffa726">Types hierarchy</span><span class="sgr38_2" style="color:#42a5f5"><span class="sgr2"> ───╮</span>
<span class="sgr2">│</span></span>                                                <span class="sgr38_2" style="color:#42a5f5"><span class="sgr2">│</span></span>
<span class="sgr38_2" style="color:#42a5f5"><span class="sgr2">│</span></span>  <span class="sgr38_2" style="color:#fff59d"><span class="sgr3">KeldyshContraction.QField</span></span>                     <span class="sgr38_2" style="color:#42a5f5"><span class="sgr2">│</span></span>
<span class="sgr38_2" style="color:#42a5f5"><span class="sgr2">│</span></span> <span class="sgr38_2" style="color:#fff59d"><span class="sgr3"><span class="sgr2">━━━━━━━━━━━━━━━━━━━━━━━━━━━</span></span></span>                    <span class="sgr38_2" style="color:#42a5f5"><span class="sgr2">│</span></span>
<span class="sgr38_2" style="color:#42a5f5"><span class="sgr2">│</span></span>             <span class="sgr38_2" style="color:#42a5f5"><span class="sgr1">│   </span></span>                               <span class="sgr38_2" style="color:#42a5f5"><span class="sgr2">│</span></span>
<span class="sgr38_2" style="color:#42a5f5"><span class="sgr2">│</span></span>             <span class="sgr38_2" style="color:#42a5f5"><span class="sgr1">├── </span></span>KeldyshContraction.QSym        <span class="sgr38_2" style="color:#42a5f5"><span class="sgr2">│</span></span>
<span class="sgr38_2" style="color:#42a5f5"><span class="sgr2">│</span></span>             <span class="sgr38_2" style="color:#42a5f5"><span class="sgr1">└── </span></span><span class="sgr38_5" style="color:#ffaf00"><span class="sgr4"><span class="sgr3">KeldyshContraction.QTerm</span></span></span>       <span class="sgr38_2" style="color:#42a5f5"><span class="sgr2">│</span></span>
<span class="sgr38_2" style="color:#42a5f5"><span class="sgr2">│</span></span>             <span class="sgr38_2" style="color:#42a5f5"><span class="sgr1">    ├── </span></span>KeldyshContraction.QAdd    <span class="sgr38_2" style="color:#42a5f5"><span class="sgr2">│</span></span>
<span class="sgr38_2" style="color:#42a5f5"><span class="sgr2">│</span></span>             <span class="sgr38_2" style="color:#42a5f5"><span class="sgr1">    └── </span></span>KeldyshContraction.QMul    <span class="sgr38_2" style="color:#42a5f5"><span class="sgr2">│</span></span>
<span class="sgr38_2" style="color:#42a5f5"><span class="sgr2">│</span></span>                                                <span class="sgr38_2" style="color:#42a5f5"><span class="sgr2">│</span></span>
<span class="sgr38_2" style="color:#42a5f5"><span class="sgr2">╰────────────────────────────────────────────────╯</span></span></code></pre><article><details class="docstring"><summary id="KeldyshContraction.QTerm"><a class="docstring-binding" href="#KeldyshContraction.QTerm"><code>KeldyshContraction.QTerm</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">QTerm &lt;: QField</code></pre><p>Abstract type representing noncommutative expressions.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/oameye/KeldyshContraction.jl/blob/3fb9991363b50d243ed17ae2e6aa79ffaabcac16/src/keldysh_algebra/interface.jl#L22-L26">source</a></section></details></article><article><details class="docstring"><summary id="KeldyshContraction.QMul"><a class="docstring-binding" href="#KeldyshContraction.QMul"><code>KeldyshContraction.QMul</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">struct QMul{T&lt;:Number} &lt;: KeldyshContraction.QTerm</code></pre><p>Represent a multiplication involving quantum fields  of <a href="#KeldyshContraction.QSym"><code>QSym</code></a> types.</p><ul><li><p><code>arg_c</code>: The commutative prefactor.</p></li><li><p><code>args_nc</code>: A vector containing all <a href="#KeldyshContraction.QSym"><code>QSym</code></a> types.</p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/oameye/KeldyshContraction.jl/blob/3fb9991363b50d243ed17ae2e6aa79ffaabcac16/src/keldysh_algebra/QTerm.jl#L5">source</a></section></details></article><article><details class="docstring"><summary id="KeldyshContraction.QAdd"><a class="docstring-binding" href="#KeldyshContraction.QAdd"><code>KeldyshContraction.QAdd</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">QAdd &lt;: QTerm</code></pre><p>Represent an addition involving <a href="#KeldyshContraction.QField"><code>QField</code></a> and other types.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/oameye/KeldyshContraction.jl/blob/3fb9991363b50d243ed17ae2e6aa79ffaabcac16/src/keldysh_algebra/QTerm.jl#L88-L92">source</a></section></details></article><article><details class="docstring"><summary id="TermInterface.arguments-Tuple{KeldyshContraction.QMul}"><a class="docstring-binding" href="#TermInterface.arguments-Tuple{KeldyshContraction.QMul}"><code>TermInterface.arguments</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">arguments(a::QMul)</code></pre><p>Return the vector of the factors of <a href="#KeldyshContraction.QMul"><code>QMul</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/oameye/KeldyshContraction.jl/blob/3fb9991363b50d243ed17ae2e6aa79ffaabcac16/src/keldysh_algebra/QTerm.jl#L38-L42">source</a></section></details></article><article><details class="docstring"><summary id="TermInterface.arguments-Tuple{KeldyshContraction.QAdd}"><a class="docstring-binding" href="#TermInterface.arguments-Tuple{KeldyshContraction.QAdd}"><code>TermInterface.arguments</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">arguments(a::QAdd)</code></pre><p>Return the vector of the arguments of <a href="#KeldyshContraction.QAdd"><code>QAdd</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/oameye/KeldyshContraction.jl/blob/3fb9991363b50d243ed17ae2e6aa79ffaabcac16/src/keldysh_algebra/QTerm.jl#L109-L113">source</a></section></details></article><p>The properties of the expression can be checked using:</p><article><details class="docstring"><summary id="KeldyshContraction.is_bulk"><a class="docstring-binding" href="#KeldyshContraction.is_bulk"><code>KeldyshContraction.is_bulk</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">is_bulk(q::QTerm)</code></pre><p>Checks if a term is in the bulk. A term is bulk if it has no <code>In</code> or <code>Out</code> position fields (<a href="#KeldyshContraction.Position"><code>Position</code></a>).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/oameye/KeldyshContraction.jl/blob/3fb9991363b50d243ed17ae2e6aa79ffaabcac16/src/keldysh_algebra/QTerm.jl#L65-L69">source</a></section></details></article><article><details class="docstring"><summary id="KeldyshContraction.is_conserved"><a class="docstring-binding" href="#KeldyshContraction.is_conserved"><code>KeldyshContraction.is_conserved</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">is_conserved(a::QTerm)</code></pre><p>Checks if an expression [<code>QTerm</code>])(@ref) is conserved. A conserved expression is one that has equal numbers of creation and annihilation operators.</p><p>See also: <a href="#KeldyshContraction.is_physical"><code>is_physical</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/oameye/KeldyshContraction.jl/blob/3fb9991363b50d243ed17ae2e6aa79ffaabcac16/src/InteractionLagrangian.jl#L82-L88">source</a></section></details></article><article><details class="docstring"><summary id="KeldyshContraction.is_physical"><a class="docstring-binding" href="#KeldyshContraction.is_physical"><code>KeldyshContraction.is_physical</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">is_physical(a::QTerm)</code></pre><p>Checks if an expression [<code>QTerm</code>])(@ref) is physical. A physical expression is one that if it has an <code>In</code> position field it also has an <code>Out</code> position field and vice versa ([<code>Position</code>])(@ref). Furthermore, <code>In</code> position field can only creation fields (<a href="#KeldyshContraction.Create"><code>Create</code></a>) and <code>Out</code> position field can only have annihilation fields (<a href="#KeldyshContraction.Destroy"><code>Destroy</code></a>).</p><p>See also: <a href="#KeldyshContraction.is_conserved"><code>is_conserved</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/oameye/KeldyshContraction.jl/blob/3fb9991363b50d243ed17ae2e6aa79ffaabcac16/src/InteractionLagrangian.jl#L102-L108">source</a></section></details></article><h2 id="Systems"><a class="docs-heading-anchor" href="#Systems">Systems</a><a id="Systems-1"></a><a class="docs-heading-anchor-permalink" href="#Systems" title="Permalink"></a></h2><article><details class="docstring"><summary id="KeldyshContraction.InteractionLagrangian"><a class="docstring-binding" href="#KeldyshContraction.InteractionLagrangian"><code>KeldyshContraction.InteractionLagrangian</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">struct InteractionLagrangian{T} &lt;: KeldyshContraction.Lagrangian</code></pre><p>Represents an interaction Lagrangian</p><p><strong>Fields</strong></p><ul><li><p><code>lagrangian</code>: The Lagrangian expression as a <a href="#KeldyshContraction.QTerm"><code>QTerm</code></a></p></li><li><p><code>qfield</code>: The quantum field destruction operator</p></li><li><p><code>cfield</code>: The classical field destruction operator</p></li><li><p><code>position</code>: The position of the interaction Lagrangian</p></li><li><p><code>parameter</code>: Parameters of the perturbation series</p></li></ul><p><strong>Constructor</strong></p><p>Constructs an InteractionLagrangian from a given <a href="#KeldyshContraction.QTerm"><code>QTerm</code></a> expression.</p><p><strong>Requirements</strong></p><p>The constructor enforces several constraints on the input expression and throws <code>AssertionError</code> if any of them are not met:</p><ul><li>Must be a bulk term (<a href="#KeldyshContraction.is_bulk"><code>is_bulk</code></a>)</li><li>Must be conserved (<a href="#KeldyshContraction.is_conserved"><code>is_conserved</code></a>)</li><li>Must be physical (<a href="#KeldyshContraction.is_physical"><code>is_physical</code></a>)</li><li>Can only contain up to two different fields</li><li>Fields must have opposite contours</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/oameye/KeldyshContraction.jl/blob/3fb9991363b50d243ed17ae2e6aa79ffaabcac16/src/InteractionLagrangian.jl#L9">source</a></section></details></article><h2 id="Wick-Contraction"><a class="docs-heading-anchor" href="#Wick-Contraction">Wick Contraction</a><a id="Wick-Contraction-1"></a><a class="docs-heading-anchor-permalink" href="#Wick-Contraction" title="Permalink"></a></h2><article><details class="docstring"><summary id="KeldyshContraction.wick_contraction"><a class="docstring-binding" href="#KeldyshContraction.wick_contraction"><code>KeldyshContraction.wick_contraction</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">wick_contraction(expr::QTerm)</code></pre><p>Compute all possible Wick contractions of quantum fields in the expression <code>expr</code>.</p><p>Wick contractions decompose products of quantum field operators into sums of products of propagators (two-point correlation functions). The rules of the contraction are:</p><ul><li>Conservation (equal numbers of creation/annihilation operators)</li><li>Physicality (proper time ordering)</li><li>No quantum-quantum contractions</li><li>If the fields have a <a href="#KeldyshContraction.Regularisation"><code>Regularisation</code></a> applied, the contractions are regularised. The <a href="#KeldyshContraction.Regularisation"><code>Regularisation</code></a> property is set to zero after the reguralisation.</li></ul><p>The function handles two types of inputs:</p><ul><li><code>QAdd</code>: Distributes the contraction over sums</li><li><code>QMul</code>: Contracts products of fields into propagators</li></ul><p>The function returns a new expression of propagators of type <code>SymbolicUtils.Symbol</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/oameye/KeldyshContraction.jl/blob/3fb9991363b50d243ed17ae2e6aa79ffaabcac16/src/wick_contractions.jl#L5-L24">source</a></section></details></article><h3 id="Propagator"><a class="docs-heading-anchor" href="#Propagator">Propagator</a><a id="Propagator-1"></a><a class="docs-heading-anchor-permalink" href="#Propagator" title="Permalink"></a></h3><article><details class="docstring"><summary id="KeldyshContraction.PropagatorType"><a class="docstring-binding" href="#KeldyshContraction.PropagatorType"><code>KeldyshContraction.PropagatorType</code></a> — <span class="docstring-category">Module</span></summary><section><div><pre><code class="language-julia hljs">PropagatorType `Keldysh`, `Advanced`, `Retarded`</code></pre><p>The type of propagator taken of two fields with the x-y Contour where <code>x</code> is the Contour of the <a href="#KeldyshContraction.Destroy"><code>Destroy</code></a> field and <code>y</code> the contour of the <a href="#KeldyshContraction.Create"><code>Create</code></a> field.</p><ul><li><code>Keldysh</code> propagator of a Classical-Classical contour</li><li><code>Advanced</code> propagator of a Quantum-Classical contour</li><li><code>Retarded</code> propagator of a Classical-Quantum contour</li></ul><p>The Quantum-Quantum propagator should always be zero.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/oameye/KeldyshContraction.jl/blob/3fb9991363b50d243ed17ae2e6aa79ffaabcac16/src/propagator_algebra/propagator.jl#L38-L47">source</a></section></details></article><article><details class="docstring"><summary id="KeldyshContraction.DressedPropagator"><a class="docstring-binding" href="#KeldyshContraction.DressedPropagator"><code>KeldyshContraction.DressedPropagator</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">struct DressedPropagator{E1, E2}</code></pre><p>A structure representing dressed propagator in the Retarded-Advanced-Keldysh basis (<a href="#KeldyshContraction.PropagatorType"><code>PropagatorType</code></a>).</p><p><strong>Fields</strong></p><ul><li><p><code>keldysh</code>: The Keldysh component of the propagator</p></li><li><p><code>retarded</code>: The retarded component of the propagator</p></li><li><p><code>advanced</code>: The advanced component of the propagator</p></li><li><p><code>order</code>: The order of the dressed propagator in the perturbation series</p></li><li><p><code>parameter</code>: Parameters of the perturbation series of the <code>order</code>, i.e., <span>$g^2$</span> means <code>order=2</code>.</p></li></ul><p><strong>Constructor</strong></p><p>Constructs a <code>DressedPropagator</code> with the given Keldysh, retarded, and advanced components.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/oameye/KeldyshContraction.jl/blob/3fb9991363b50d243ed17ae2e6aa79ffaabcac16/src/dressed_propagator.jl#L4">source</a></section></details></article><article><details class="docstring"><summary id="KeldyshContraction.matrix-Tuple{DressedPropagator}"><a class="docstring-binding" href="#KeldyshContraction.matrix-Tuple{DressedPropagator}"><code>KeldyshContraction.matrix</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">matrix(G::DressedPropagator)</code></pre><p>Returns the matrix representation of the dressed propagator <code>G</code> in the Retarded-Advanced-Keldysh basis.</p><p class="math-container">\[\hat{G}\left(x_1, x_2\right)
=\left(
\begin{array}{cc}
G^K\left(x_1, x_2\right) &amp; G^R\left(x_1, x_2\right) \\
G^A\left(x_1, x_2\right) &amp; 0
\end{array}
\right)\]</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/oameye/KeldyshContraction.jl/blob/3fb9991363b50d243ed17ae2e6aa79ffaabcac16/src/dressed_propagator.jl#L31-L45">source</a></section><section><div><pre><code class="language-julia hljs">matrix(Σ::SelfEnergy)</code></pre><p>Returns the matrix representation of the self energy <code>Σ</code> in the Retarded-Advanced-Keldysh basis.</p><p class="math-container">\[\hat{\Sigma}\left(y_1, y_2\right)=
\left(\begin{array}{cc}0 &amp; \Sigma^A\left(y_1, y_2\right) \\
\Sigma^R\left(y_1, y_2\right) &amp; \Sigma^K\left(y_1, y_2\right)
\end{array}
\right)\]</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/oameye/KeldyshContraction.jl/blob/3fb9991363b50d243ed17ae2e6aa79ffaabcac16/src/self_energy.jl#L101-L113">source</a></section></details></article><h3 id="Self-Energy"><a class="docs-heading-anchor" href="#Self-Energy">Self-Energy</a><a id="Self-Energy-1"></a><a class="docs-heading-anchor-permalink" href="#Self-Energy" title="Permalink"></a></h3><article><details class="docstring"><summary id="KeldyshContraction.SelfEnergy"><a class="docstring-binding" href="#KeldyshContraction.SelfEnergy"><code>KeldyshContraction.SelfEnergy</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">struct SelfEnergy{E1, E2}</code></pre><p>A struct representing the self-energy components in the Retarded-Advance-Keldysh basis (<a href="#KeldyshContraction.PropagatorType"><code>PropagatorType</code></a>). The self-energy is divided into three components: Keldysh, retarded, and advanced.</p><p><strong>Fields</strong></p><ul><li><p><code>keldysh</code>: The Keldysh component of the self-energy.</p></li><li><p><code>retarded</code>:  The retarded component of the self-energy.</p></li><li><p><code>advanced</code>: The advanced component of the self-energy.</p></li><li><p><code>order</code>: The order of the self-energy in the perturbation series</p></li><li><p><code>parameter</code>: Parameters of the perturbation series</p></li></ul><p>where it assumed that the fields are of type <code>Union{SymbolicUtils.Symbolic{&lt;:Number}, Number}</code>.</p><p><strong>Constructor</strong></p><p>Constructs a <code>SelfEnergy</code> object from a <a href="#KeldyshContraction.DressedPropagator"><code>DressedPropagator</code></a>. The self-energy is computed based on the Keldysh Green&#39;s function (<code>G.keldysh</code>) and expanded into its quantum-quantum (<code>qq</code>), classical-quantum (<code>cq</code>), and quantum-classical (<code>qc</code>) components.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/oameye/KeldyshContraction.jl/blob/3fb9991363b50d243ed17ae2e6aa79ffaabcac16/src/self_energy.jl#L41">source</a></section></details></article><article><details class="docstring"><summary id="KeldyshContraction.matrix-Tuple{SelfEnergy}"><a class="docstring-binding" href="#KeldyshContraction.matrix-Tuple{SelfEnergy}"><code>KeldyshContraction.matrix</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">matrix(G::DressedPropagator)</code></pre><p>Returns the matrix representation of the dressed propagator <code>G</code> in the Retarded-Advanced-Keldysh basis.</p><p class="math-container">\[\hat{G}\left(x_1, x_2\right)
=\left(
\begin{array}{cc}
G^K\left(x_1, x_2\right) &amp; G^R\left(x_1, x_2\right) \\
G^A\left(x_1, x_2\right) &amp; 0
\end{array}
\right)\]</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/oameye/KeldyshContraction.jl/blob/3fb9991363b50d243ed17ae2e6aa79ffaabcac16/src/dressed_propagator.jl#L31-L45">source</a></section><section><div><pre><code class="language-julia hljs">matrix(Σ::SelfEnergy)</code></pre><p>Returns the matrix representation of the self energy <code>Σ</code> in the Retarded-Advanced-Keldysh basis.</p><p class="math-container">\[\hat{\Sigma}\left(y_1, y_2\right)=
\left(\begin{array}{cc}0 &amp; \Sigma^A\left(y_1, y_2\right) \\
\Sigma^R\left(y_1, y_2\right) &amp; \Sigma^K\left(y_1, y_2\right)
\end{array}
\right)\]</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/oameye/KeldyshContraction.jl/blob/3fb9991363b50d243ed17ae2e6aa79ffaabcac16/src/self_energy.jl#L101-L113">source</a></section></details></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../">« Home</a><a class="docs-footer-nextpage" href="../typesystem/">Symbolic fields »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.17.0 on <span class="colophon-date" title="Wednesday 25 February 2026 10:43">Wednesday 25 February 2026</span>. Using Julia version 1.10.10.</p></section><footer class="modal-card-foot"></footer></div></div></div></body><div data-docstringscollapsed="true"></div></html>
